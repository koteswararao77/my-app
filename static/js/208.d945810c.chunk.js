"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[208],{7208:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(5043),r=t(7974);const n=()=>{const[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[d,o]=(0,a.useState)(!1),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e="user_"+Math.random().toString(36).substring(2,9);i(e)},[]);return{messages:e,sendMessage:async()=>{if(!t.trim())return;const e=t;s(s=>[...s,{sender:"user",text:e,timestamp:new Date}]),n(""),o(!0);try{var a,i;const t=await fetch(`${r.C1}/chat/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:l,text:e})}),n=await t.json(),d=null===n||void 0===n||null===(a=n.data)||void 0===a||null===(i=a.messages)||void 0===i?void 0:i[n.data.messages.length-1];s(e=>[...e,d])}catch(d){console.error("Error:",d)}finally{o(!1)}},input:t,setInput:n,isTyping:d,setIsTyping:o,messagesEndRef:c}};function l(e,s){let{title:t,titleId:r,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),t?a.createElement("title",{id:r},t):null,a.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))}const i=a.forwardRef(l);function d(e,s){let{title:t,titleId:r,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),t?a.createElement("title",{id:r},t):null,a.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const o=a.forwardRef(d);var c=t(579);const u=()=>{const{messages:e,sendMessage:s,input:t,setInput:r,isTyping:l,messagesEndRef:d}=n();return(0,a.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e,l]),(0,c.jsx)("div",{className:"flex items-center justify-center p-6",children:(0,c.jsxs)("div",{className:"w-[50%] h-[550px] rounded-3xl flex flex-col overflow-hidden",children:[(0,c.jsxs)("div",{className:"px-6 py-4 bg-emerald-600 text-white flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-lg font-semibold tracking-wide",children:"AI Support Assistant"}),(0,c.jsx)("p",{className:"text-xs opacity-80",children:"Online \u2022 Powered by AI"})]}),(0,c.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]}),(0,c.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-4 bg-white",children:[e.map((e,s)=>{var t;return(0,c.jsxs)("div",{className:"flex items-end gap-2 "+("user"===e.sender?"justify-end":"justify-start"),children:["user"!==e.sender&&(0,c.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-xl",children:"\ud83e\udd16"}),(0,c.jsxs)("div",{className:"px-5 py-3 rounded-2xl max-w-[75%] text-sm leading-relaxed transition-all duration-200 shadow-sm hover:shadow-md "+("user"===e.sender?"bg-gradient-to-r from-indigo-600 to-blue-600 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none border border-gray-200"),children:[(0,c.jsx)("p",{children:e.text}),(0,c.jsx)("p",{className:"text-xs mt-1 "+("user"===e.sender?"text-blue-100":"text-gray-400"),children:null===e||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),"user"===e.sender&&(0,c.jsx)(o,{className:"w-8 h-8 text-gray-400 flex-shrink-0"})]},s)}),l&&(0,c.jsx)("div",{className:"flex justify-start",children:(0,c.jsx)("div",{className:"bg-gray-100 border border-gray-200 rounded-3xl rounded-bl-none px-5 py-3 shadow-sm",children:(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,c.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.2s]"}),(0,c.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.4s]"})]})})}),(0,c.jsx)("div",{ref:d})]}),(0,c.jsxs)("div",{className:"p-5 border-t border-gray-200 bg-white flex items-center gap-3",children:[(0,c.jsx)("input",{value:t,onChange:e=>r(e.target.value),placeholder:"Ask Anything",className:"flex-1 bg-gray-100 border border-gray-200 rounded-full px-5 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition",onKeyDown:e=>"Enter"===e.key&&s()}),(0,c.jsx)("button",{onClick:s,disabled:""===t.trim(),className:"bg-emerald-600 text-white p-3 rounded-full hover:scale-105 active:scale-95 transition-transform duration-150 shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:(0,c.jsx)(i,{className:"w-5 h-5"})})]})]})})}}}]);
//# sourceMappingURL=208.d945810c.chunk.js.map