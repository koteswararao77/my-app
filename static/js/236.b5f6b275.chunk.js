"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[236],{961:(e,s,l)=>{l.d(s,{A:()=>t});l(5043);const a={button:"style_button__KX1+I"};var r=l(579);const t=e=>{let{variant:s="contained",children:l,onClick:t,styles:o={},className:n="",text:i="",disabled:d=!1,shape:c="box",size:h="normal"}=e;return(0,r.jsx)("button",{onClick:t&&t,"data-variant":s,style:o,disabled:d,"data-shape":c,"data-size":h,className:`${a.button} ${"round"===c?a.round:""} ${n} flex items-center justify-center`,children:l||i})}},4236:(e,s,l)=>{l.r(s),l.d(s,{default:()=>O});var a=l(3003),r=l(9131),t=l(9859);const o="style_panesliderOverlay__ajR5D",n="style_open__BwGHL",i="style_panelSlide__EbBcH",d="style_close__6Z-I1";var c=l(5043);const h=l.p+"static/media/close.9c739514b76883f8b2c035d5f8756e6d.svg";var m=l(579);const x=e=>{let{children:s,direction:l="right_to_left",open:a=!1,style:r={},btnStyle:t={},onClose:c,showCloseButton:x,zIndex:u=100}=e;return(0,m.jsxs)(m.Fragment,{children:[a&&(0,m.jsx)("div",{onClick:c,className:`${o} ${a?n:""}`,style:{zIndex:u-1}}),(0,m.jsxs)("div",{className:a?i+" "+n:i+" "+d,"data-direction":l,style:{...r,zIndex:u},children:[x&&(0,m.jsx)("img",{src:h,className:"absolute right-6 top-6 cursor-pointer",onClick:c,alt:""}),(0,m.jsx)("span",{className:"bg-gray h-[100%]",children:s})]})]})};var u=l(961);const v=e=>{let{title:s,value:l,classes:a,valueWidget:r,isRedColor:t,isGreenColor:o,isBlueColor:n}=e;return(0,m.jsxs)("div",{className:`${a}`,children:[(0,m.jsx)("div",{className:"fs-12 color-sub-text",children:s}),null==r&&(null===s||void 0===s?void 0:s.length)>0&&(0,m.jsx)("div",{className:"fs-14 break-words "+(t?"color-red":o?"color-primary":n?"color-blue":""),children:l||"-"}),r]})};var p=l(7974),j=l(7488);const y=()=>{const e=(0,a.wA)(),{selectedUserId:s,userByIdData:l,isOpenEditForm:r,openUserDetailsById:o,isOpenDeleteForm:n}=(0,a.d4)(e=>({selectedUserId:e.user.selectedUserId,userByIdData:e.user.userByIdData,isOpenEditForm:e.user.isOpenEditForm,openUserDetailsById:e.user.openUserDetailsById,isOpenDeleteForm:e.user.isOpenDeleteForm}));(0,c.useEffect)(()=>{o&&i()},[o]);const i=()=>{fetch(`${p.C1}/users/${s}`).then(e=>e.json()).then(s=>{e((0,t.OS)(s.user))})};return{userByIdData:l,onChangeTableValues:(s,a,r)=>{const o=l.roleDetails.map((e,l)=>l===s?{...e,[a]:r}:e);e((0,t.OS)({...l,roleDetails:o}))},addRow:()=>{e((0,t.OS)({...l,roleDetails:[...l.roleDetails,{companyName:"",role:"",salary:""}]}))},copyRow:s=>{const a=[...l.roleDetails];a.splice(s+1,0,{...null===l||void 0===l?void 0:l.roleDetails[s]}),e((0,t.OS)({...l,roleDetails:a}))},deleteRow:s=>{const a=l.roleDetails.filter((e,l)=>l!==s);e((0,t.OS)({...l,roleDetails:a}))},handleCreateUser:()=>{r?fetch(`${p.C1}/users/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:null===l||void 0===l?void 0:l.name,mobile:null===l||void 0===l?void 0:l.mobile,email:null===l||void 0===l?void 0:l.email,address:null===l||void 0===l?void 0:l.address,roleDetails:null===l||void 0===l?void 0:l.roleDetails.map(e=>({companyName:e.companyName,role:e.role,salary:e.salary}))})}).then(async s=>{if(!s.ok)throw new Error("Network response was not ok");e((0,t.W7)(!0)),e((0,t.Xr)(!1)),j.oR.success("User Deleted Successfully")}).catch(e=>{console.error("Error:",e)}):fetch(`${p.C1}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:null===l||void 0===l?void 0:l.name,mobile:null===l||void 0===l?void 0:l.mobile,email:null===l||void 0===l?void 0:l.email,address:null===l||void 0===l?void 0:l.address,roleDetails:null===l||void 0===l?void 0:l.roleDetails.map(e=>({companyName:e.companyName,role:e.role,salary:e.salary}))})}).then(async s=>{if(!s.ok)throw new Error("Network response was not ok");e((0,t.W7)(!0)),e((0,t.JM)(!1)),j.oR.success("User Created Successfully")}).catch(e=>{console.error("Error:",e)})},handleDeleteUser:()=>{fetch(`${p.C1}/users/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:null===l||void 0===l?void 0:l.name,mobile:null===l||void 0===l?void 0:l.mobile,email:null===l||void 0===l?void 0:l.email,address:null===l||void 0===l?void 0:l.address,roleDetails:null===l||void 0===l?void 0:l.roleDetails.map(e=>({companyName:e.companyName,role:e.role,salary:e.salary}))})}).then(async s=>{if(!s.ok)throw new Error("Network response was not ok");e((0,t.W7)(!0)),e((0,t.SL)(!1)),j.oR.success("User Deleted Successfully")}).catch(e=>{console.error("Error:",e)})},isOpenEditForm:r,isOpenDeleteForm:n}};var b=l(9817),N=l(7745),f=l(4393);const g=()=>{var e,s;const l=(0,a.wA)(),{userByIdData:r,onChangeTableValues:o,addRow:n,copyRow:i,deleteRow:d,handleDeleteUser:c,isOpenEditForm:h,handleCreateUser:x}=y();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"overflow-y-auto",style:{height:"calc(100vh - 5rem"},children:(0,m.jsxs)("div",{className:"m-4 w-[90%]",children:[(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(N.A,{label:"Name",value:null===r||void 0===r?void 0:r.name,onChange:e=>{l((0,t.OS)({...r,name:e.target.value}))}}),(0,m.jsx)(N.A,{label:"Mobile",value:null===r||void 0===r?void 0:r.mobile,onChange:e=>{l((0,t.OS)({...r,mobile:e.target.value}))}})]}),(0,m.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,m.jsx)(N.A,{label:"E-Mail",value:null===r||void 0===r?void 0:r.email,onChange:e=>{l((0,t.OS)({...r,email:e.target.value}))}}),(0,m.jsx)(N.A,{label:"Address",value:null===r||void 0===r?void 0:r.address,onChange:e=>{l((0,t.OS)({...r,address:e.target.value}))}})]}),(0,m.jsxs)("div",{className:"bg-white rounded-xl shadow-sm w-[100%] mt-4 overflow-hidden",children:[(0,m.jsx)("div",{className:"bg-slate-700 text-white px-4 py-2 font-medium",children:"Payment Entries"}),(0,m.jsxs)("table",{className:"w-full text-sm",children:[(0,m.jsx)("thead",{className:"bg-slate-100",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"p-3 text-left border",children:"S.No"}),(0,m.jsx)("th",{className:"p-3 text-left border",children:"companyName"}),(0,m.jsx)("th",{className:"p-3 text-left border",children:"Role"}),(0,m.jsx)("th",{className:"p-3 text-left border",children:"Salary"}),(null===r||void 0===r||null===(e=r.roleDetails)||void 0===e?void 0:e.length)>1&&(0,m.jsx)("th",{className:"p-3 text-left border"})]})}),(0,m.jsx)("tbody",{children:null===r||void 0===r||null===(s=r.roleDetails)||void 0===s?void 0:s.map((e,s)=>(0,m.jsxs)("tr",{className:"hover:bg-slate-50 transition",children:[(0,m.jsx)("td",{className:"p-3 border",children:s+1}),(0,m.jsx)("td",{className:"p-3 border",children:(0,m.jsx)(N.A,{value:e.companyName,onChange:e=>o(s,"companyName",e.target.value)})}),(0,m.jsx)("td",{className:"p-3 border",children:(0,m.jsx)(N.A,{value:e.role,onChange:e=>o(s,"role",e.target.value)})}),(0,m.jsx)("td",{className:"p-3 border",children:(0,m.jsx)(N.A,{value:e.salary,onChange:e=>o(s,"salary",e.target.value)})}),r.roleDetails.length>1&&(0,m.jsx)("td",{className:"p-3",children:(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)("img",{src:f.A,onClick:()=>d(s),className:"w-5 cursor-pointer hover:scale-110 transition"}),(0,m.jsx)(b.A,{onClick:()=>i(s),className:"text-blue-600 cursor-pointer hover:scale-110 transition"})]})})]},s))})]}),(0,m.jsx)("div",{className:"flex justify-end p-3",children:(0,m.jsx)(u.A,{variant:"outlined-primary",onClick:n,children:"+ Add"})})]})]})}),(0,m.jsxs)("div",{className:"flex justify-between p-4 border-t bg-white sticky bottom-0",children:[(0,m.jsx)(u.A,{variant:"gray",onClick:()=>{l(h?(0,t.Xr)(!1):(0,t.JM)(!1))},children:"CANCEL"}),(0,m.jsx)(u.A,{variant:"contained",onClick:()=>{x()},children:"SUBMIT"})]})]})},w=e=>{let{title:s,content:l}=e;return(0,m.jsx)("div",{className:"w-[100%] border-b",children:(0,m.jsxs)("div",{className:"w-[60%] flex items-center justify-between top-0 bg-white z-10 p-4",children:[(0,m.jsx)("div",{className:"text-lg font-semibold",children:s}),l&&l]})})},C="style_modal__4QAZ7",D="style_open__2kln9",A="style_close__+rPu0",_="style_container__ucfGj",k="style_overlay__foMmt",S=(e,s)=>{let{children:l,modalWidth:a="100vw",width:r="80vw",height:t="",open:o=!1,onClose:n,bRadius:i=""}=e;const[d,x]=(0,c.useState)(),u=(0,c.useRef)(null),v=()=>{x(!1)};return(0,c.useImperativeHandle)(s,()=>({openModal(){x(!0)},closeModal(){v()}}),[]),(0,c.useEffect)(()=>{x(o)},[o]),(0,m.jsxs)("div",{className:`${C} ${!0===d?D:A} ${i}`,ref:u,style:{width:a},children:[(0,m.jsxs)("div",{className:`${_} bg-white shadow-md rounded relative`,style:{width:r,height:t},children:[(0,m.jsx)("img",{src:h,className:"absolute right-6 top-4 cursor-pointer",onClick:()=>{x(!1),"function"===typeof n&&n()}}),d&&(0,c.cloneElement)(l,{close:v})]}),!0===d&&(0,m.jsx)("div",{className:k})]})},E=(0,c.forwardRef)(S),U=()=>{var e;const{userByIdData:s,handleDeleteUser:l,isOpenEditForm:r,isOpenDeleteForm:o}=y(),n=(0,a.wA)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"overflow-y-auto",style:{height:"calc(100vh - 5rem"},children:(0,m.jsxs)("div",{className:"m-4 w-[90%]",children:[(0,m.jsxs)("div",{className:"flex gap-4",children:[(0,m.jsx)(v,{title:"Name",value:null===s||void 0===s?void 0:s.name,classes:"flex-1"}),(0,m.jsx)(v,{title:"Mobile",value:null===s||void 0===s?void 0:s.mobile,classes:"flex-1"})]}),(0,m.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,m.jsx)(v,{title:"E-Mail",value:null===s||void 0===s?void 0:s.email,classes:"flex-1"}),(0,m.jsx)(v,{title:"Address",value:null===s||void 0===s?void 0:s.address,classes:"flex-1"})]}),(0,m.jsxs)("div",{className:"bg-white rounded-xl shadow-sm w-[100%] mt-4 overflow-hidden",children:[(0,m.jsx)("div",{className:"bg-slate-700 text-white px-4 py-2 font-medium",children:"Payment Entries"}),(0,m.jsxs)("table",{className:"w-full text-sm",children:[(0,m.jsx)("thead",{className:"bg-slate-100",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"p-3 text-left border",children:"S.No"}),(0,m.jsx)("th",{className:"p-3 text-left border",children:"companyName"}),(0,m.jsx)("th",{className:"p-3 text-left border",children:"Role"}),(0,m.jsx)("th",{className:"p-3 text-left border",children:"Salary"})]})}),(0,m.jsx)("tbody",{children:null===s||void 0===s||null===(e=s.roleDetails)||void 0===e?void 0:e.map((e,s)=>(0,m.jsxs)("tr",{className:"hover:bg-slate-50 transition",children:[(0,m.jsx)("td",{className:"p-3 border",children:s+1}),(0,m.jsx)("td",{className:"p-3 border",children:e.companyName}),(0,m.jsx)("td",{className:"p-3 border",children:e.role}),(0,m.jsx)("td",{className:"p-3 border",children:e.salary})]},s))})]})]})]})}),(0,m.jsxs)("div",{className:"flex justify-between p-4 border-t bg-white sticky bottom-0",children:[(0,m.jsx)(u.A,{variant:"gray",onClick:()=>{n((0,t.SL)(!1))},children:"CANCEL"}),(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)(u.A,{variant:"danger",onClick:()=>{n((0,t.QO)(!0))},children:"DELETE"}),(0,m.jsx)(u.A,{variant:"contained",onClick:()=>{n((0,t.Xr)(!0))},children:"EDIT"})]})]}),o&&(0,m.jsx)(E,{open:o,width:"40vw",onClose:()=>{n((0,t.QO)(!1))},children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{title:"Delete User",content:(0,m.jsx)(m.Fragment,{})}),(0,m.jsxs)("div",{className:"py-3",children:[(0,m.jsx)("div",{className:"px-4 my-10 text-red-500 flex items-center",children:(0,m.jsx)("div",{children:"\u26a0\ufe0f This action cannot be undone. Are you sure you want to delete this user?"})}),(0,m.jsxs)("div",{className:"flex justify-between p-4 border-t bg-white sticky bottom-0",children:[(0,m.jsx)(u.A,{variant:"gray",onClick:()=>{n((0,t.QO)(!1))},children:"CANCEL"}),(0,m.jsx)(u.A,{variant:"contained",onClick:()=>{l()},children:"SUBMIT"})]})]})]})}),(0,m.jsx)(m.Fragment,{children:r&&(0,m.jsxs)(x,{direction:"right_to_left",open:r,onClose:()=>{n((0,t.Xr)(!1))},style:{width:"40vw"},children:[(0,m.jsxs)("div",{className:"py-6 px-4 border-b flex items-center justify-between",children:[(0,m.jsx)("div",{children:(0,m.jsx)("h2",{children:"ADD USER"})}),(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:h,className:"cursor-pointer",onClick:()=>{n((0,t.Xr)(!1))},alt:""})})]}),(0,m.jsx)(g,{})]})})]})},I=()=>{const{refresh:e,allUsersData:s,search:l,openUserDetailsById:r,openAddUser:o}=(0,a.d4)(e=>({refresh:e.user.refresh,allUsersData:e.user.allUsersData,search:e.user.search,openUserDetailsById:e.user.openUserDetailsById,openAddUser:e.user.openAddUser})),n=(0,a.wA)();(0,c.useEffect)(()=>{i()},[e]);const i=()=>{fetch(`${p.C1}/users`).then(e=>e.json()).then(e=>{n((0,t.mv)(e.user))})};return{allUsersData:s,search:l,openUserDetailsById:r,openAddUser:o}},O=()=>{var e;const{allUsersData:s,search:l,openUserDetailsById:o,openAddUser:n}=I(),i=(0,a.wA)();return(0,m.jsxs)("div",{className:"overflow-y-auto",style:{height:"calc(100vh - 10rem)"},children:[(0,m.jsxs)("div",{className:"w-70%",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center w-[70%]",children:[(0,m.jsx)("div",{className:"w-[40%]",children:(0,m.jsx)(r.A,{placeholder:"Search...",value:l,onChange:e=>{i((0,t.Tg)(e.target.value))}})}),(0,m.jsx)("div",{children:(0,m.jsx)(u.A,{variant:"contained",onClick:()=>{i((0,t.JM)(!0)),i((0,t.BP)())},children:"+ Add User"})})]}),(0,m.jsx)("div",{className:"bg-white rounded-xl shadow-sm w-[70%] overflow-y-auto mt-4",style:{height:"calc(100vh - 30rem)"},children:(0,m.jsxs)("table",{className:"w-full text-sm",children:[(0,m.jsx)("thead",{className:"bg-emerald-600 text-white sticky top-0",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"p-3 text-left",children:"S.No"}),(0,m.jsx)("th",{className:"p-3 text-left",children:"Employee Name"}),(0,m.jsx)("th",{className:"p-3 text-left cursor-pointer",children:"Mobile Number"}),(0,m.jsx)("th",{className:"p-3 text-left cursor-pointer",children:"E-Mail"}),(0,m.jsx)("th",{className:"p-3 text-left cursor-pointer",children:"Address"})]})}),(0,m.jsx)("tbody",{children:(null===s||void 0===s?void 0:s.length)>0?null===(e=s.filter(e=>{var s;return!l||(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(l.toLowerCase()))}))||void 0===e?void 0:e.map((e,s)=>(0,m.jsxs)("tr",{className:"hover:bg-slate-50 transition cursor-pointer",onClick:()=>{i((0,t.SL)(!0)),i((0,t.KQ)(e._id))},children:[(0,m.jsx)("td",{className:"p-3 border",children:s+1}),(0,m.jsx)("td",{className:"p-3 border",children:e.name}),(0,m.jsx)("td",{className:"p-3 border",children:e.mobile}),(0,m.jsx)("td",{className:"p-3 border",children:e.email}),(0,m.jsx)("td",{className:"p-3 border",children:e.address})]})):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:3,className:"p-6 text-center text-gray-500",children:"No Data Available"})})})]})})]}),(0,m.jsx)(m.Fragment,{children:o&&(0,m.jsxs)(x,{direction:"right_to_left",open:o,onClose:()=>{i((0,t.SL)(!1))},style:{width:"40vw"},children:[(0,m.jsxs)("div",{className:"py-6 px-4 border-b flex items-center justify-between",children:[(0,m.jsx)("div",{children:(0,m.jsx)("h2",{children:"USER DETAILS"})}),(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:h,className:"cursor-pointer",onClick:()=>{i((0,t.SL)(!1))},alt:""})})]}),(0,m.jsx)(U,{})]})}),(0,m.jsx)(m.Fragment,{children:n&&(0,m.jsxs)(x,{direction:"right_to_left",open:n,onClose:()=>{i((0,t.JM)(!1))},style:{width:"40vw"},children:[(0,m.jsxs)("div",{className:"py-6 px-4 border-b flex items-center justify-between",children:[(0,m.jsx)("div",{children:(0,m.jsx)("h2",{children:"ADD USER"})}),(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:h,className:"cursor-pointer",onClick:()=>{i((0,t.JM)(!1))},alt:""})})]}),(0,m.jsx)(g,{})]})})]})}},4393:(e,s,l)=>{l.d(s,{A:()=>a});l(5043);const a=l.p+"static/media/delete_icon.d06eb18e9c6930ef7f6bb971f6a33640.svg"},7745:(e,s,l)=>{l.d(s,{A:()=>t});const a="style_inputContainer__67KS5";var r=l(579);const t=e=>{let{id:s,name:l,onPaste:t,onCopy:o,onCut:n,label:i,palceholder:d,type:c,required:h,onChange:m,onFocus:x,onBlur:u,allowNegativeNumber:v,style:p,inputStyle:j={},value:y,className:b,icon:N,disabled:f,autoComplete:g,fromSupplyTab:w}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:a,style:p,children:[""!==i&&(0,r.jsxs)("label",{className:"fs-12 color-sub-text",children:[i," ",(0,r.jsx)("span",{className:"color-red",children:!0===h&&"*"})]}),(0,r.jsx)("input",{id:s,name:l,type:c||"text",className:"w-full px-3 py-1.5 font-medium mt-2 "+(w?"":"border"),style:j,placeholder:d||"",onWheel:e=>e.target.blur(),autoComplete:g||"",onChange:e=>{if(m)if("number"===c){let s=/^[0-9]*(\.[0-9]{0,2})?$/;!0===v&&(s=/^[-0-9]*(\.[0-9]{0,2})?$/),1==s.test(e.target.value)||(e.target.value=parseFloat(e.target.value).toFixed(2)),m(e)}else m(e)},onPaste:t,onCopy:o,onCut:n,onFocus:x,value:y,disabled:f})]})})}},9131:(e,s,l)=>{l.d(s,{A:()=>d});var a=l(5043),r=l(5394);const t="style_searchBoxInput__VtklA";var o=l(423),n=l(579);const i=(0,a.forwardRef)((e,s)=>{let{value:l,onChange:a,className:i="",style:d={},placeholder:c="",onClick:h,bNoRadius:m}=e;return(0,n.jsxs)("div",{className:"relative flex items-center overflow-hidden",style:d,children:[(0,n.jsx)(r.pn2,{className:"absolute color-primary",style:{left:15}}),(0,n.jsx)("input",{type:"text",placeholder:c,value:l,onChange:a,className:`text-sm color-sub-text border w-full ${t} ${i} ${m?"":"rounded-2xl"} focus:outline-none focus:border-green-500`,style:{...d},onClick:h,ref:s}),l&&(0,n.jsx)(o.qpF,{onClick:()=>{a({target:{value:""}}),s&&"function"!==typeof s&&null!==s&&void 0!==s&&s.current&&s.current.focus()},className:"absolute color-primary cursor-pointer w-10",style:{top:"32%",right:"1.5rem",fontSize:"1.2rem",color:"gray",cursor:"pointer"}})]})});i.displayName="SearchBox";const d=i},9817:(e,s,l)=>{l.d(s,{A:()=>t});var a=l(9992),r=l(579);const t=(0,a.A)((0,r.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")}}]);
//# sourceMappingURL=236.b5f6b275.chunk.js.map